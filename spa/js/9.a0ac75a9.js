(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"1a7b":function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-page",{attrs:{padding:""}},[e("q-breadcrumbs",[e("q-breadcrumbs-el",{attrs:{icon:"home",to:"/sistema"}}),e("q-breadcrumbs-el",{attrs:{label:"Doc",icon:"widgets",to:"/sistema/contab"}})],1),!0===t.inserirForm?e("div",{attrs:{id:"tituloForm"}},[e("b",[t._v("Inserir registro")])]):t._e(),!0===t.editarForm&&t.checkReg.length<2&&0!=t.checkReg.length?e("div",{attrs:{id:"tituloForm"}},[e("b",[t._v("Editar registro")])]):t._e(),!0===t.inserirForm||!0===t.editarForm&&t.checkReg.length<2&&0!=t.checkReg.length?e("q-form",{staticClass:"q-gutter-md",on:{submit:function(a){return a.preventDefault(),t.save()}}},[e("q-input",{attrs:{filled:"",dense:"",prefix:"R$",label:"Valor",hint:"Valor do Doc","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Por favor digite o valor"}]},model:{value:t.toSave.valorcontab,callback:function(a){t.$set(t.toSave,"valorcontab",a)},expression:"toSave.valorcontab"}}),e("q-date",{attrs:{minimal:""},model:{value:t.toSave.datacontab,callback:function(a){t.$set(t.toSave,"datacontab",a)},expression:"toSave.datacontab"}}),e("q-input",{attrs:{filled:"",dense:"",label:"Lançamento",hint:"Número do Lançamento","hide-underline":"true",type:"textarea",rows:"1"},model:{value:t.toSave.nlanc,callback:function(a){t.$set(t.toSave,"nlanc",a)},expression:"toSave.nlanc"}}),e("q-input",{attrs:{filled:"",dense:"",label:"Conta",hint:"Número da Conta","hide-underline":"true",type:"textarea",rows:"1"},model:{value:t.toSave.nconta,callback:function(a){t.$set(t.toSave,"nconta",a)},expression:"toSave.nconta"}}),e("q-input",{attrs:{filled:"",dense:"",label:"Tipo",hint:"Tipo de Contabilização","hide-underline":"true",type:"textarea",rows:"1"},model:{value:t.toSave.tipocontab,callback:function(a){t.$set(t.toSave,"tipocontab",a)},expression:"toSave.tipocontab"}}),e("q-input",{attrs:{filled:"",dense:"",label:"Observação",hint:"Observação da Contabilização","hide-underline":"true",type:"textarea",rows:"1"},model:{value:t.toSave.obscontab,callback:function(a){t.$set(t.toSave,"obscontab",a)},expression:"toSave.obscontab"}}),e("div",[e("q-btn",{staticClass:"q-mb-sm float-left",attrs:{type:"submit",color:"green",icon:"send",unelevated:""}})],1)],1):t._e(),!1===t.inserirForm?e("q-btn",{staticClass:"q-mb-sm float-right",attrs:{color:"green",icon:"add_circle",unelevated:"",dense:""},on:{click:function(a){return t.inserirShow(!0)}}}):t._e(),!0===t.inserirForm||!0===t.editarForm&&0!=t.checkReg.length?e("q-btn",{staticClass:"q-mr-sm float-right",attrs:{color:"red",icon:"remove_circle",unelevated:"",dense:""},on:{click:function(a){t.inserirShow(!1),t.editarShow(!1)}}}):t._e(),!1===t.inserirForm&&t.checkReg.length>0?e("q-btn",{staticClass:"q-mr-sm float-right",attrs:{color:"red",icon:"delete_forever",unelevated:"",dense:""},on:{click:function(a){return t.remove(t.checkReg)}}}):t._e(),!1===t.inserirForm&&t.checkReg.length>0&&t.checkReg.length<2?e("q-btn",{staticClass:"q-mr-sm float-right",attrs:{color:"primary",icon:"edit",unelevated:"",dense:""},on:{click:[function(a){return a.preventDefault(),t.toUpdate(t.checkReg[0])},function(a){return t.editarShow(!0)}]}}):t._e(),e("table",[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Ação")]),e("th",{attrs:{scope:"col"}},[t._v("Número Contab")]),e("th",{attrs:{scope:"col"}},[t._v("Data")]),e("th",{attrs:{scope:"col"}},[t._v("Número Lanc")]),e("th",{attrs:{scope:"col"}},[t._v("Número Conta")]),e("th",{attrs:{scope:"col"}},[t._v("Tipo de Contab")]),e("th",{attrs:{scope:"col"}},[t._v("Valor Contab")]),e("th",{attrs:{scope:"col"}},[t._v("Obs Contab")])])]),e("tbody",t._l(t.contabs,(function(a,o){return e("tr",{key:o},[e("td",{attrs:{"data-label":"Ação Reg"}},[e("q-checkbox",{attrs:{val:a.ncontab},model:{value:t.checkReg,callback:function(a){t.checkReg=a},expression:"checkReg"}})],1),null===a.ncontab?e("td",{attrs:{"data-label":"Número Contab"}},[e("q-badge",{staticClass:"q-ml-sm",attrs:{color:"red"}},[t._v("NULL")])],1):e("td",{attrs:{"data-label":"Número Contab"}},[t._v(" "+t._s(a.ncontab)+" ")]),null===a.datacontab?e("td",{attrs:{"data-label":"Data"}},[e("q-badge",{staticClass:"q-ml-sm",attrs:{color:"red"}},[t._v("NULL")])],1):e("td",{attrs:{"data-label":"Data"}},[t._v(" "+t._s(t._f("formatDate")(a.datacontab))+" ")]),null===a.nlanc?e("td",{attrs:{"data-label":"Número Lanc"}},[e("q-badge",{staticClass:"q-ml-sm",attrs:{color:"red"}},[t._v("NULL")])],1):e("td",{attrs:{"data-label":"Número Lanc"}},[t._v(" "+t._s(a.nlanc)+" ")]),null===a.nconta?e("td",{attrs:{"data-label":"Número Conta"}},[e("q-badge",{staticClass:"q-ml-sm",attrs:{color:"red"}},[t._v("NULL")])],1):e("td",{attrs:{"data-label":"Número Conta"}},[t._v(" "+t._s(a.nconta)+" ")]),null===a.tipocontab?e("td",{attrs:{"data-label":"Tipo de Contab"}},[e("q-badge",{staticClass:"q-ml-sm",attrs:{color:"red"}},[t._v("NULL")])],1):e("td",{attrs:{"data-label":"Tipo de Contab"}},[t._v(" "+t._s(a.tipocontab)+" ")]),null===a.valorcontab?e("td",{attrs:{"data-label":"Valor Contab"}},[e("q-badge",{staticClass:"q-ml-sm",attrs:{color:"red"}},[t._v("NULL")])],1):e("td",{attrs:{"data-label":"Valor Contab"}},[t._v(" "+t._s(a.valorcontab)+" ")]),null===a.obscontab?e("td",{attrs:{"data-label":"Obs Contab"}},[e("q-badge",{staticClass:"q-ml-sm",attrs:{color:"red"}},[t._v("NULL")])],1):e("td",{attrs:{"data-label":"Obs Contab"}},[t._v(" "+t._s(a.obscontab)+" ")])])})),0)])],1)},n=[],r=(e("7514"),{data:function(){return{checkReg:[],toSave:{},contabs:{data:[]},inserirForm:!1,editarForm:!1,optionsTipoControle:["Patrimônio","Consumo","Rateio"]}},methods:{save:function(){this.updateStatus?this.update():this.create()},inserirShow:function(t){this.inserirForm=t,this.toSave={},this.checkReg=[]},editarShow:function(t){this.editarForm=t},getList:function(){var t=this;window.axios.get("".concat("http://api.absolutier.com.br/api/sistema/v1","/contab")).then((function(a){t.contabs=a.data}))},remove:function(t){var a=this;confirm("Você tem certeza que deseja apagar?")&&window.axios.delete("".concat("http://api.absolutier.com.br/api/sistema/v1","/contab/")+t).then((function(){a.getList(),a.checkReg=[]}))},create:function(){var t=this;window.axios.post("".concat("http://api.absolutier.com.br/api/sistema/v1","/contab"),this.toSave).then((function(){t.toSave={},t.inserirForm=!1,t.editarForm=!1,t.getList(),t.$q.notify({color:"green",timeout:1e3,textColor:"white",icon:"tag_faces",message:"Registro inserido com sucesso!",position:"top"})}))},update:function(){var t=this;window.axios.put("".concat("http://api.absolutier.com.br/api/sistema/v1","/contab/")+this.toSave.ncontab,this.toSave).then((function(){t.updateStatus=!1,t.toSave={},t.inserirForm=!1,t.editarForm=!1,t.getList(),t.$q.notify({color:"green",timeout:1e3,textColor:"white",icon:"tag_faces",message:"Registro editado com sucesso!",position:"top"})}))},toUpdate:function(t){this.updateStatus=t;var a=this.contabs,e=a.find((function(a){return a.ncontab===t}));this.toSave=e}},mounted:function(){this.getList()}}),s=r,i=e("2877"),c=e("eebe"),l=e.n(c),d=e("9989"),b=e("ead5"),u=e("079e"),m=e("0378"),v=e("27f9"),h=e("52ee"),p=e("9c40"),g=e("8f8e"),f=e("58a8"),_=Object(i["a"])(s,o,n,!1,null,null,null);a["default"]=_.exports;l()(_,"components",{QPage:d["a"],QBreadcrumbs:b["a"],QBreadcrumbsEl:u["a"],QForm:m["a"],QInput:v["a"],QDate:h["a"],QBtn:p["a"],QCheckbox:g["a"],QBadge:f["a"]})}}]);