(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"24a0":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",{attrs:{padding:""}},[o("q-breadcrumbs",[o("q-breadcrumbs-el",{attrs:{icon:"home",to:"/sistema"}}),o("q-breadcrumbs-el",{attrs:{label:"Doc",icon:"widgets",to:"/sistema/doc"}})],1),!0===t.inserirForm?o("div",{attrs:{id:"tituloForm"}},[o("b",[t._v("Inserir registro")])]):t._e(),!0===t.editarForm&&t.checkReg.length<2&&0!=t.checkReg.length?o("div",{attrs:{id:"tituloForm"}},[o("b",[t._v("Editar registro")])]):t._e(),!0===t.inserirForm||!0===t.editarForm&&t.checkReg.length<2&&0!=t.checkReg.length?o("q-form",{staticClass:"q-gutter-md",on:{submit:function(e){return e.preventDefault(),t.save()}}},[o("q-input",{attrs:{filled:"",dense:"",prefix:"R$",label:"Valor",hint:"Valor do Doc","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Por favor digite o valor"}]},model:{value:t.toSave.valordoc,callback:function(e){t.$set(t.toSave,"valordoc",e)},expression:"toSave.valordoc"}}),o("q-date",{attrs:{minimal:""},model:{value:t.toSave.dtdoc,callback:function(e){t.$set(t.toSave,"dtdoc",e)},expression:"toSave.dtdoc"}}),o("q-input",{attrs:{filled:"",dense:"",label:"Fornecedor",hint:"Fornecedor do Doc","hide-underline":"true",type:"textarea",rows:"1"},model:{value:t.toSave.fornecedordoc,callback:function(e){t.$set(t.toSave,"fornecedordoc",e)},expression:"toSave.fornecedordoc"}}),o("q-select",{attrs:{dense:"",filled:"",label:"Tipo de Controle",hint:"Tipo de Controle do Doc",options:t.optionsTipoControle},model:{value:t.toSave.tpcontroledoc,callback:function(e){t.$set(t.toSave,"tpcontroledoc",e)},expression:"toSave.tpcontroledoc"}}),o("div",[o("q-btn",{staticClass:"q-mb-sm float-left",attrs:{type:"submit",color:"green",icon:"send",unelevated:""}})],1)],1):t._e(),!1===t.inserirForm?o("q-btn",{staticClass:"q-mb-sm float-right",attrs:{color:"green",icon:"add_circle",unelevated:"",dense:""},on:{click:function(e){return t.inserirShow(!0)}}}):t._e(),!0===t.inserirForm||!0===t.editarForm&&0!=t.checkReg.length?o("q-btn",{staticClass:"q-mr-sm float-right",attrs:{color:"red",icon:"remove_circle",unelevated:"",dense:""},on:{click:function(e){t.inserirShow(!1),t.editarShow(!1)}}}):t._e(),!1===t.inserirForm&&t.checkReg.length>0?o("q-btn",{staticClass:"q-mr-sm float-right",attrs:{color:"red",icon:"delete_forever",unelevated:"",dense:""},on:{click:function(e){return t.remove(t.checkReg)}}}):t._e(),!1===t.inserirForm&&t.checkReg.length>0&&t.checkReg.length<2?o("q-btn",{staticClass:"q-mr-sm float-right",attrs:{color:"primary",icon:"edit",unelevated:"",dense:""},on:{click:[function(e){return e.preventDefault(),t.toUpdate(t.checkReg[0])},function(e){return t.editarShow(!0)}]}}):t._e(),o("table",[o("thead",[o("tr",[o("th",{attrs:{scope:"col"}},[t._v("Ação")]),o("th",{attrs:{scope:"col"}},[t._v("Número Doc")]),o("th",{attrs:{scope:"col"}},[t._v("Valor Doc")]),o("th",{attrs:{scope:"col"}},[t._v("Data Doc")]),o("th",{attrs:{scope:"col"}},[t._v("Fornecedor Doc")]),o("th",{attrs:{scope:"col"}},[t._v("Tipo de Controle")])])]),o("tbody",t._l(t.docs,(function(e,a){return o("tr",{key:a},[o("td",{attrs:{"data-label":"Ação Reg"}},[o("q-checkbox",{attrs:{val:e.ndoc},model:{value:t.checkReg,callback:function(e){t.checkReg=e},expression:"checkReg"}})],1),null===e.ndoc?o("td",{attrs:{"data-label":"Número Reg"}},[o("q-badge",{staticClass:"q-ml-sm",attrs:{color:"red"}},[t._v("NULL")])],1):o("td",{attrs:{"data-label":"Número Reg"}},[t._v(" "+t._s(e.ndoc)+" ")]),null===e.valordoc?o("td",{attrs:{"data-label":"Valor Reg"}},[o("q-badge",{staticClass:"q-ml-sm",attrs:{color:"red"}},[t._v("NULL")])],1):o("td",{attrs:{"data-label":"Valor Reg"}},[t._v(" "+t._s("R$ "+e.valordoc)+" ")]),null===e.dtdoc?o("td",{attrs:{"data-label":"Data Reg"}},[o("q-badge",{staticClass:"q-ml-sm",attrs:{color:"red"}},[t._v("NULL")])],1):o("td",{attrs:{"data-label":"Data Reg"}},[t._v(" "+t._s(t._f("formatDate")(e.dtdoc))+" ")]),null===e.fornecedordoc?o("td",{attrs:{"data-label":"Observação Reg"}},[o("q-badge",{staticClass:"q-ml-sm",attrs:{color:"red"}},[t._v("NULL")])],1):o("td",{attrs:{"data-label":"Observação Reg"}},[t._v(" "+t._s(e.fornecedordoc)+" ")]),null===e.tpcontroledoc?o("td",{attrs:{"data-label":"Descrição Reg"}},[o("q-badge",{staticClass:"q-ml-sm",attrs:{color:"red"}},[t._v("NULL")])],1):o("td",{attrs:{"data-label":"Descrição Reg"}},[t._v(" "+t._s(e.tpcontroledoc)+" ")])])})),0)])],1)},r=[],s=(o("7514"),{data:function(){return{checkReg:[],toSave:{},docs:{data:[]},inserirForm:!1,editarForm:!1,optionsTipoControle:["Patrimônio","Consumo","Rateio"]}},methods:{save:function(){this.updateStatus?this.update():this.create()},inserirShow:function(t){this.inserirForm=t,this.toSave={},this.checkReg=[]},editarShow:function(t){this.editarForm=t},getList:function(){var t=this;window.axios.get("".concat("http://api.absolutier.com.br/api/sistema/v1","/doc")).then((function(e){t.docs=e.data}))},remove:function(t){var e=this;confirm("Você tem certeza que deseja apagar?")&&window.axios.delete("".concat("http://api.absolutier.com.br/api/sistema/v1","/doc/")+t).then((function(){e.getList(),e.checkReg=[]}))},create:function(){var t=this;window.axios.post("".concat("http://api.absolutier.com.br/api/sistema/v1","/doc"),this.toSave).then((function(){t.toSave={},t.inserirForm=!1,t.editarForm=!1,t.getList(),t.$q.notify({color:"green",timeout:1e3,textColor:"white",icon:"tag_faces",message:"Registro inserido com sucesso!",position:"top"})}))},update:function(){var t=this;window.axios.put("".concat("http://api.absolutier.com.br/api/sistema/v1","/doc/")+this.toSave.ndoc,this.toSave).then((function(){t.updateStatus=!1,t.toSave={},t.inserirForm=!1,t.editarForm=!1,t.getList(),t.$q.notify({color:"green",timeout:1e3,textColor:"white",icon:"tag_faces",message:"Registro editado com sucesso!",position:"top"})}))},toUpdate:function(t){this.updateStatus=t;var e=this.docs,o=e.find((function(e){return e.ndoc===t}));this.toSave=o}},mounted:function(){this.getList()}}),c=s,i=o("2877"),n=o("eebe"),l=o.n(n),d=o("9989"),u=o("ead5"),m=o("079e"),h=o("0378"),v=o("27f9"),g=o("52ee"),p=o("ddd8"),b=o("9c40"),f=o("8f8e"),_=o("58a8"),q=Object(i["a"])(c,a,r,!1,null,null,null);e["default"]=q.exports;l()(q,"components",{QPage:d["a"],QBreadcrumbs:u["a"],QBreadcrumbsEl:m["a"],QForm:h["a"],QInput:v["a"],QDate:g["a"],QSelect:p["a"],QBtn:b["a"],QCheckbox:f["a"],QBadge:_["a"]})}}]);