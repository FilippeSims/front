(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{d236:function(a,t,e){"use strict";e.r(t);var o=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("q-page",{attrs:{padding:""}},[e("q-breadcrumbs",[e("q-breadcrumbs-el",{attrs:{icon:"home",to:"/sistema"}}),e("q-breadcrumbs-el",{attrs:{label:"Pagar",icon:"widgets",to:"/sistema/pagar"}})],1),!0===a.inserirForm||!0===a.editarForm&&a.checkReg.length<2&&0!=a.checkReg.length?e("div",{attrs:{id:"formLanc"}},[!0===a.inserirForm?e("div",{attrs:{id:"tituloForm"}},[e("b",[a._v("Inserir registro")])]):a._e(),!0===a.editarForm&&a.checkReg.length<2&&0!=a.checkReg.length?e("div",{attrs:{id:"tituloForm"}},[e("b",[a._v("Editar registro")])]):a._e(),e("q-toggle",{attrs:{"checked-icon":"check","unchecked-icon":"clear",color:"green",label:"Existe registro?","keep-color":""},model:{value:a.toggleFormReg,callback:function(t){a.toggleFormReg=t},expression:"toggleFormReg"}}),!0===a.toggleFormReg?e("div",{attrs:{id:"registroLanc"}},[e("q-form",{staticClass:"q-gutter-md",on:{submit:function(t){return t.preventDefault(),a.save()}}},[e("div",{staticClass:"paginacao q-mb-sm"},[e("q-btn",{attrs:{disabled:0===a.pageNumber,icon:"navigate_before",color:"primary",unelevated:"",dense:""},on:{click:function(t){a.pageNumber-=1}}}),e("q-btn",{staticClass:"q-ml-sm",attrs:{disabled:a.pageNumber>=a.pageCount-1,icon:"navigate_next",color:"primary",unelevated:"",dense:""},on:{click:function(t){a.pageNumber+=1}}})],1),a._l(a.paginatedData,(function(t,o){return e("li",{key:o,staticClass:"listReg",on:{click:function(e){return e.preventDefault(),a.lancn(t.nlanc)}}},[e("q-btn",{attrs:{round:"",size:"8px",color:"positive",icon:"check",outline:"",unelevated:""}}),e("q-badge",{staticClass:"q-ml-sm",attrs:{color:"light-blue-4"}},[a._v("\n           Número: "+a._s(t.nlanc)+"\n          ")]),e("q-badge",{staticClass:"q-ml-sm",attrs:{color:"pink-4"}},[a._v("\n            Data: "+a._s(a._f("formatDate")(t.dtlanc))+"\n          ")]),e("q-badge",{staticClass:"q-ml-sm",attrs:{color:"orange-5"}},[a._v("\n            Valor: "+a._s(t.vlrlanc)+"\n          ")])],1)})),e("q-input",{attrs:{dense:"",filled:"",label:"Número Registro",hint:"Número do registro",disable:""},model:{value:a.toSave.nlanc,callback:function(t){a.$set(a.toSave,"nlanc",t)},expression:"toSave.nlanc"}}),e("q-input",{attrs:{dense:"",filled:"",label:"Valor",hint:"Valor do lançamento",prefix:"R$"},model:{value:a.toSave.vlrlanc,callback:function(t){a.$set(a.toSave,"vlrlanc",t)},expression:"toSave.vlrlanc"}}),e("q-input",{attrs:{dense:"",filled:"",label:"Data",hint:"Data do pagar"},model:{value:a.toSave.dtlanc,callback:function(t){a.$set(a.toSave,"dtlanc",t)},expression:"toSave.dtlanc"}}),e("q-input",{attrs:{dense:"",filled:"",label:"Forma de pagamento",hint:"Forma de pagamento"},model:{value:a.toSave.nformapagar,callback:function(t){a.$set(a.toSave,"nformapagar",t)},expression:"toSave.nformapagar"}}),e("q-input",{attrs:{dense:"",filled:"",label:"Observação",hint:"Observação do pagar"},model:{value:a.toSave.obspagar,callback:function(t){a.$set(a.toSave,"obspagar",t)},expression:"toSave.obspagar"}}),e("q-select",{attrs:{dense:"",filled:"",label:"Forma de pagamento",hint:"Forma de Pagamento",options:a.optionsPago},model:{value:a.toSave.pagopagar,callback:function(t){a.$set(a.toSave,"pagopagar",t)},expression:"toSave.pagopagar"}}),e("div",[e("q-btn",{staticClass:"q-mb-sm float-left",attrs:{type:"submit",color:"green",icon:"send",unelevated:""}})],1)],2)],1):e("div",{attrs:{id:"semRegistroLanc"}},[e("q-form",{staticClass:"q-gutter-md",on:{submit:function(t){return t.preventDefault(),a.save()}}},[!0===a.editarForm?e("q-input",{attrs:{dense:"",filled:"",label:"Número lançamento",hint:"Número do lançamento"},model:{value:a.toSave.nlanc,callback:function(t){a.$set(a.toSave,"nlanc",t)},expression:"toSave.nlanc"}}):a._e(),e("q-input",{attrs:{dense:"",filled:"",prefix:"R$",mask:"#.##","reverse-fill-mask":"",label:"Valor",hint:"Valor do Pagar"},model:{value:a.toSave.vlrpagar,callback:function(t){a.$set(a.toSave,"vlrpagar",t)},expression:"toSave.vlrpagar"}}),e("q-date",{attrs:{minimal:""},model:{value:a.toSave.dtpagar,callback:function(t){a.$set(a.toSave,"dtpagar",t)},expression:"toSave.dtpagar"}}),e("q-input",{attrs:{dense:"",filled:"",label:"Objeto",hint:"Forma de pagamento"},model:{value:a.toSave.nformapagar,callback:function(t){a.$set(a.toSave,"nformapagar",t)},expression:"toSave.nformapagar"}}),e("q-input",{attrs:{dense:"",filled:"",label:"Observação",hint:"Observação do pagar"},model:{value:a.toSave.obspagar,callback:function(t){a.$set(a.toSave,"obspagar",t)},expression:"toSave.obspagar"}}),e("q-select",{attrs:{dense:"",filled:"",label:"Forma de pagamento",hint:"Forma de Pagamento",options:a.optionsPago},model:{value:a.toSave.pagopagar,callback:function(t){a.$set(a.toSave,"pagopagar",t)},expression:"toSave.pagopagar"}}),e("div",[e("q-btn",{staticClass:"q-mb-sm float-left",attrs:{type:"submit",color:"green",icon:"send",unelevated:""}})],1)],1)],1)],1):a._e(),!1===a.inserirForm?e("q-btn",{staticClass:"q-mb-sm float-right",attrs:{color:"green",icon:"add_circle",unelevated:"",dense:""},on:{click:function(t){return a.inserirShow(!0)}}}):a._e(),!0===a.inserirForm||!0===a.editarForm&&0!=a.checkReg.length?e("q-btn",{staticClass:"q-mr-sm float-right",attrs:{color:"red",icon:"remove_circle",unelevated:"",dense:""},on:{click:function(t){a.inserirShow(!1),a.editarShow(!1)}}}):a._e(),!1===a.inserirForm&&a.checkReg.length>0?e("q-btn",{staticClass:"q-mr-sm float-right",attrs:{color:"red",icon:"delete_forever",unelevated:"",dense:""},on:{click:function(t){return a.remove(a.checkReg)}}}):a._e(),!1===a.inserirForm&&a.checkReg.length>0&&a.checkReg.length<2?e("q-btn",{staticClass:"q-mr-sm float-right",attrs:{color:"primary",icon:"edit",unelevated:"",dense:""},on:{click:[function(t){return t.preventDefault(),a.toUpdate(a.checkReg[0])},function(t){return a.editarShow(!0)}]}}):a._e(),e("table",[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[a._v("Ação")]),e("th",{attrs:{scope:"col"}},[a._v("Número Lanc")]),e("th",{attrs:{scope:"col"}},[a._v("Número Pagar")]),e("th",{attrs:{scope:"col"}},[a._v("Valor Pagar")]),e("th",{attrs:{scope:"col"}},[a._v("Data Pagar")]),e("th",{attrs:{scope:"col"}},[a._v("Forma")]),e("th",{attrs:{scope:"col"}},[a._v("Obs Pagar")]),e("th",{attrs:{scope:"col"}},[a._v("Pago?")])])]),e("tbody",a._l(a.listPagar,(function(t,o){return e("tr",{key:o},[e("td",{attrs:{"data-label":"Ação"}},[e("q-checkbox",{attrs:{val:t.n_pagar},model:{value:a.checkReg,callback:function(t){a.checkReg=t},expression:"checkReg"}})],1),null===t.nlanc?e("td",{attrs:{"data-label":"Número Lanc"}},[e("q-badge",{staticClass:"q-ml-sm",attrs:{color:"red"}},[a._v("NULL")])],1):e("td",{attrs:{"data-label":"Número Lanc"}},[a._v(a._s(t.nlanc))]),null===t.n_pagar?e("td",{attrs:{"data-label":"Número Pagar"}},[e("q-badge",{staticClass:"q-ml-sm",attrs:{color:"red"}},[a._v("NULL")])],1):e("td",{attrs:{"data-label":"Número Pagar"}},[a._v(a._s(t.n_pagar))]),null===t.vlrpagar?e("td",{attrs:{"data-label":"Valor Pagar"}},[e("q-badge",{staticClass:"q-ml-sm",attrs:{color:"red"}},[a._v("NULL")])],1):e("td",{attrs:{"data-label":"Valor Pagar"}},[a._v(" "+a._s("R$ "+t.vlrpagar)+" ")]),null===t.dtpagar?e("td",{attrs:{"data-label":"Data Pagar"}},[e("q-badge",{staticClass:"q-ml-sm",attrs:{color:"red"}},[a._v("NULL")])],1):e("td",{attrs:{"data-label":"Data Pagar"}},[a._v(a._s(a._f("formatDate")(t.dtpagar)))]),null===t.nformapagar?e("td",{attrs:{"data-label":"Forma"}},[e("q-badge",{staticClass:"q-ml-sm",attrs:{color:"red"}},[a._v("NULL")])],1):e("td",{attrs:{"data-label":"Forma"}},["Dinheiro"===t.nomeforma?e("q-icon",{attrs:{name:"ion-cash",color:"green",size:"30px"}},[e("q-tooltip",{attrs:{offset:[0,0]}},[a._v("\n                "+a._s(t.nomeforma)+"\n              ")])],1):a._e(),"Cheque"===t.nomeforma?e("q-icon",{attrs:{name:"subtitles",color:"amber-4",size:"30px"}},[e("q-tooltip",{attrs:{offset:[0,0]}},[a._v("\n                "+a._s(t.nomeforma)+"\n              ")])],1):a._e(),"Cartão de Crédito"===t.nomeforma?e("q-icon",{attrs:{name:"ion-card",color:"primary",size:"30px"}},[e("q-badge",{attrs:{color:"amber-8",floating:""}},[a._v(a._s(t.vencimentoforma))]),e("q-tooltip",{attrs:{offset:[0,0]}},[a._v("\n                "+a._s(t.emissorforma)+" | "+a._s(t.bandeiraforma)+" | "+a._s(t.vencimentoforma)+"\n              ")])],1):a._e()],1),null===t.obspagar||"null"===t.obspagar?e("td",{attrs:{"data-label":"Obs Pagar"}},[e("q-badge",{staticClass:"q-ml-sm",attrs:{color:"red"}},[a._v("NULL")])],1):e("td",{attrs:{"data-label":"Obs Pagar"}},[a._v(a._s(t.obspagar))]),"Não"===t.pagopagar?e("td",{attrs:{"data-label":"Pago?"}},[e("q-badge",{staticClass:"q-ml-sm",attrs:{color:"red"}},[a._v(a._s(t.pagopagar))])],1):e("td",{attrs:{"data-label":"Pago?"}},[e("q-badge",{staticClass:"q-ml-sm",attrs:{color:"positive"}},[a._v(a._s(t.pagopagar))])],1)])})),0)])],1)},r=[],s=(e("7514"),e("c5f6"),e("2ef0")),n=e.n(s),i=localStorage.getItem("token"),l={data:function(){return{toggleFormReg:!1,checkReg:[],checknRegLanc:[],lancs:{data:[]},pagar:{data:[]},toSave:{},inserirForm:!1,editarForm:!1,updateStatus:!1,pageNumber:0,pagination:{descending:!1,page:2,rowsPerPage:5},token:{tokenUser:i},optionsPago:["Sim","Não"]}},props:{size:{type:Number,required:!1,default:3}},methods:{save:function(){this.updateStatus?this.update():this.create()},inserirShow:function(a){this.inserirForm=a,this.toSave={},this.checkReg=[]},editarShow:function(a){this.editarForm=a},lancn:function(a){var t=this.lancs,e=t.find((function(t){return t.nlanc===a}));this.toSave=e},getRegistro:function(){var a=this;window.axios.get("".concat("http://api.absolutier.com.br/api/sistema/v1","/lanc"),{headers:{"x-access-token":this.token.tokenUser}}).then((function(t){a.lancs=t.data}))},nextReg:function(){this.pageNumber++},prevPage:function(){this.pageNumber--},getList:function(){var a=this;window.axios.get("".concat("http://api.absolutier.com.br/api/sistema/v1","/pagar"),{headers:{"x-access-token":this.token.tokenUser}}).then((function(t){a.pagar=t.data}))},remove:function(a){var t=this;confirm("Você tem certeza que deseja apagar?")&&window.axios.delete("".concat("http://api.absolutier.com.br/api/sistema/v1","/pagar/")+a,{headers:{"x-access-token":this.token.tokenUser}}).then((function(){t.getList(),t.checkReg=[]}))},create:function(){var a=this;window.axios.post("".concat("http://api.absolutier.com.br/api/sistema/v1","/pagar"),this.toSave).then((function(){a.toSave={},a.inserirForm=!1,a.editarForm=!1,a.getList(),a.$q.notify({color:"green",timeout:1e3,textColor:"white",icon:"tag_faces",message:"Registro inserido com sucesso!",position:"top"})}))},update:function(){var a=this;window.axios.put("".concat("http://api.absolutier.com.br/api/sistema/v1","/pagar/")+this.toSave.n_pagar,this.toSave,{headers:{"x-access-token":this.token.tokenUser}}).then((function(){a.updateStatus=!1,a.toSave={},a.inserirForm=!1,a.editarForm=!1,a.checkReg=[],a.getList(),a.$q.notify({color:"green",timeout:1e3,textColor:"white",icon:"tag_faces",message:"Registro editado com sucesso!",position:"top"})}))},toUpdate:function(a){this.updateStatus=a;var t=this.pagar,e=t.find((function(t){return t.n_pagar===a}));this.toSave=e}},computed:{pageCount:function(){var a=this.lancs.length,t=this.size;return Math.ceil(a/t)},paginatedData:function(){var a=this.pageNumber*this.size,t=a+this.size;return this.lancs.slice(a,t)},listPagar:function(){return n.a.orderBy(this.pagar,"n_pagar")}},mounted:function(){this.getRegistro(),this.getList()}},c=l,d=e("2877"),g=e("eebe"),m=e.n(g),p=e("9989"),u=e("ead5"),v=e("079e"),b=e("9564"),f=e("0378"),h=e("9c40"),_=e("58a8"),q=e("27f9"),k=e("ddd8"),S=e("52ee"),x=e("8f8e"),F=e("0016"),R=e("05c0"),C=Object(d["a"])(c,o,r,!1,null,null,null);t["default"]=C.exports;m()(C,"components",{QPage:p["a"],QBreadcrumbs:u["a"],QBreadcrumbsEl:v["a"],QToggle:b["a"],QForm:f["a"],QBtn:h["a"],QBadge:_["a"],QInput:q["a"],QSelect:k["a"],QDate:S["a"],QCheckbox:x["a"],QIcon:F["a"],QTooltip:R["a"]})}}]);